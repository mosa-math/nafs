<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© ØªØ¯Ø±ÙŠØ¨ Ù†Ø§ÙØ³ - Ø§Ù„Ø£Ø³ØªØ§Ø° Ù…ÙˆØ³Ù‰ Ø§Ù„ØµØ¨Ø­ÙŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        * { font-family: 'Tajawal', sans-serif; }
        body { background-color: #e2e8f0; min-height: 100vh; display: flex; flex-direction: column; }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ */
        .quiz-container { background: white; border-radius: 2rem; box-shadow: 0 10px 25px rgba(0,0,0,0.05); width: 100%; max-width: 800px; padding: 2.5rem; position: relative; }
        .pill-container { display: flex; gap: 8px; position: absolute; top: -20px; left: 40px; }
        .pill-item { background: #dbeafe; color: #1e40af; padding: 8px 20px; border-radius: 1.5rem; font-weight: 800; font-size: 0.9rem; display: flex; align-items: center; gap: 5px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        
        /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© */
        .option-card { width: 100%; padding: 1.2rem 2rem; background: #f8fafc; border: 2px solid #f1f5f9; border-radius: 1.2rem; display: flex; justify-content: space-between; align-items: center; font-weight: 700; color: #334155; transition: all 0.2s; cursor: pointer; }
        .option-card:hover { border-color: #3b82f6; background: #eff6ff; }
        .option-card.correct { background: #22c55e !important; color: white !important; border-color: #16a34a !important; }
        .option-card.wrong { background: #ef4444 !important; color: white !important; border-color: #dc2626 !important; }

        .progress-bar { height: 8px; background: #e2e8f0; border-radius: 10px; overflow: hidden; margin-top: 10px; }
        .progress-fill { height: 100%; background: #1e3a8a; transition: width 0.3s; }

        /* ===== Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ÙÙ‚Ø· - A4 Ø£ÙÙ‚ÙŠ - ØµÙØ­Ø© ÙˆØ§Ø­Ø¯Ø© ===== */
@media print {

  /* Ø­Ø§ÙˆÙ„ Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ù‡ÙˆØ§Ù…Ø´ (Ø¨Ø¹Ø¶ Ø§Ù„Ø·Ø§Ø¨Ø¹Ø§Øª ØªÙØ±Ø¶ Ù‡Ø§Ù…Ø´ Ø¨Ø³ÙŠØ·) */
  @page {
    size: A4 landscape;
    margin: 0;
  }

  html, body{
    width: 100%;
    height: 100%;
    margin: 0 !important;
    padding: 0 !important;
    background: #fff !important;
    overflow: hidden !important;
  }

  /* Ø§Ø®ÙÙ ÙƒÙ„ Ø´ÙŠØ¡ */
  body *{
    visibility: hidden !important;
  }

  /* Ø£Ø¸Ù‡Ø± Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© ÙÙ‚Ø· */
  #printArea, #printArea *{
    visibility: visible !important;
  }

  /* Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§: ÙƒÙ„Ø§Ø³ hidden ÙŠØ¬Ø¹Ù„ display:none â€” Ù„Ø§Ø²Ù… Ù†ÙƒØ³Ø±Ù‡ Ù‡Ù†Ø§ */
  #printArea{
    position: fixed !important;
    inset: 0 !important;
    display: flex !important;      /* â† ÙŠÙƒØ³Ø± hidden */
    align-items: stretch !important;
    justify-content: stretch !important;
    background: #fff !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Ø§Ø·Ø¨Ø¹ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø¨Ù…Ù‚Ø§Ø³ A4 Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ */
  .cert-box{
    width: 297mm !important;
    height: 210mm !important;
    box-sizing: border-box !important;

    /* Ø¨Ø¯Ù„ Ø§Ù„Ù‡ÙˆØ§Ù…Ø´ Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© Ù†Ø®Ù„ÙŠ Ù…Ø³Ø§Ø­Ø© Ø¢Ù…Ù†Ø© Ø¯Ø§Ø®Ù„ÙŠØ© */
    padding: 14mm !important;

    border: 6mm double #1e3a8a !important;
    background: #fff !important;
    text-align: center !important;
    direction: rtl !important;

    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;

    page-break-inside: avoid;
    break-inside: avoid;
  }
}

        #feedback-toast { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 9999; padding: 1.5rem 3rem; border-radius: 1.5rem; display: none; text-align: center; color: white; font-weight: 900; font-size: 1.5rem; animation: pop 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        @keyframes pop { 0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; } 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; } }
        
        .cert-box{
  width: 297mm;
  height: 210mm;
  box-sizing: border-box;
  padding: 14mm;
  border: 6mm double #1e3a8a;
  background: #fff;
  text-align: center;
  direction: rtl;
}
    </style>
</head>
<body class="bg-slate-100 p-4">

<div id="app" class="flex-grow flex items-center justify-center">
    
    <div id="mainContainer" class="w-full max-w-5xl bg-white rounded-3xl shadow-xl overflow-hidden grid md:grid-cols-2">
        <section id="heroSection" class="p-8 bg-slate-50 flex flex-col items-center text-center border-l">
            <div class="bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-bold mb-4">â­ ØªØ¯Ø±ÙŠØ¨ ØªÙØ§Ø¹Ù„ÙŠ</div>
            <img src="https://iconape.com/wp-content/files/zz/389912/svg/389912.svg" class="w-24 mb-4">
            <p class="text-slate-500 font-bold text-xs uppercase">Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ¹Ù„ÙŠÙ… Ø¨Ù†Ø¬Ø±Ø§Ù†</p>
            <p class="text-green-800 font-bold text-sm mb-6">Ù…Ø¯Ø±Ø³Ø© Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©</p>
            <h1 class="text-2xl font-black text-slate-800 mb-1">Ù…Ù†ØµØ© ØªØ¯Ø±ÙŠØ¨ Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø§ÙØ³</h1>
            <p class="text-xs text-slate-400 font-bold">Ù…Ø§Ø¯Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù„Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¯Ø³ Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ</p>
            <p class="text-slate-400 font-bold text-[10px] mt-1">Ø®Ø·Ø© Ù¡Ù Ù  ÙŠÙˆÙ…</p>
            
            <button onclick="window.open('./Ø®Ø·Ø© 100ÙŠÙˆÙ….pdf', '_blank')" class="mt-4 flex items-center gap-2 px-4 py-2 bg-red-50 text-red-600 border border-red-200 rounded-lg text-xs font-bold hover:bg-red-100 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
                ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø®Ø·Ø© (PDF)
            </button>
        </section>

        <div id="interactiveSection" class="p-10 flex flex-col justify-center">
            <div id="startScreen" class="space-y-6">
                <div class="text-xl font-black">ğŸ‘‹ Ø£Ù‡Ù„Ù‹Ø§ ÙˆØ³Ù‡Ù„Ù‹Ø§ ÙŠØ§ Ø¨Ø·Ù„!</div>
                <p class="text-xs font-bold text-slate-400">Ø§ÙƒØªØ¨ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø«Ù… Ø§Ø®ØªØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ÙˆØ§Ø¶ØºØ· Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ğŸš€</p>
                <input id="studentName" type="text" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§..." class="w-full px-4 py-3 rounded-xl border border-slate-200 outline-none focus:ring-2 focus:ring-blue-500">
                <div class="grid grid-cols-2 gap-3">
                    <select id="gradeSelect" class="px-4 py-3 rounded-xl border border-slate-200 font-bold">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„ØµÙ</option>
                        <option value="Ø³Ø§Ø¯Ø³ ( Ø£ )">Ø³Ø§Ø¯Ø³ ( Ø£ )</option>
                        <option value="Ø³Ø§Ø¯Ø³ ( Ø¨ )">Ø³Ø§Ø¯Ø³ ( Ø¨ )</option>
                    </select>
                    <select id="weekSelect" class="px-4 py-3 rounded-xl border border-slate-200 font-bold">
                        <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹</option>
                        <script>for(let i=1; i<=10; i++) document.write(`<option value="${i}">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${i}</option>`)</script>
                    </select>
                </div>
                <button onclick="startTraining()" class="w-full py-4 bg-blue-600 text-white font-black rounded-xl text-lg shadow-lg">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ ğŸš€</button>
            </div>
        </div>
    </div>

    <div id="quizScreen" class="hidden w-full flex flex-col items-center">
        <div class="w-full max-w-3xl mb-8">
            <div class="flex justify-between items-center mb-2">
                <div class="flex items-center gap-2 font-bold text-slate-700">
                    <span class="bg-slate-200 p-2 rounded-full">ğŸ‘¤</span> <span id="displayStudentName"></span>
                </div>
                <div class="font-bold text-slate-500" id="topQIndicator"></div>
            </div>
            <div class="progress-bar"><div id="progressFill" class="progress-fill" style="width: 0%"></div></div>
        </div>
        <div class="quiz-container">
            <div class="pill-container">
                <div class="pill-item"><span>Ø§Ù„Ø³Ø¤Ø§Ù„</span> <span id="currQNum">1</span> Ù…Ù† <span id="totalQNum">0</span></div>
                <div class="pill-item">â±ï¸ Ø§Ù„ÙˆÙ‚Øª: <span id="timer">10:00</span></div>
            </div>
            <h2 id="questionText" class="text-2xl font-extrabold text-slate-800 text-center my-8"></h2>
            <div id="optionsGrid" class="space-y-4"></div>
            <button id="nextBtn" onclick="nextQuestion()" class="hidden w-full py-4 bg-slate-800 text-white font-black rounded-xl mt-8 text-lg">Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ â¬…ï¸</button>
        </div>
    </div>

    <div id="resultScreen" class="hidden w-full max-w-md flex flex-col items-center text-center">
        <div class="text-6xl mb-4">ğŸ†</div>
        <h2 id="resStudentName" class="text-3xl font-black text-blue-900 mb-6"></h2>
        <div class="bg-white w-full rounded-3xl p-8 shadow-xl space-y-6">
            <div class="text-6xl font-black text-slate-800" id="resScoreText"></div>
            <div class="text-2xl font-black text-blue-600" id="resPercent"></div>
            <div class="text-xl font-bold text-slate-700">Ø§Ù„ØªÙ‚Ø¯ÙŠØ±: <span id="resGrade"></span></div>
            <div id="resMsg" class="bg-amber-50 p-3 rounded-xl text-amber-700 font-bold text-sm"></div>
        </div>
        <div class="grid grid-cols-3 gap-3 w-full mt-8">
            <button onclick="window.print()" class="bg-green-600 text-white p-3 rounded-xl font-bold text-sm">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
            <button onclick="location.reload()" class="bg-blue-600 text-white p-3 rounded-xl font-bold text-sm">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø©</button>
            <button onclick="location.reload()" class="bg-slate-800 text-white p-3 rounded-xl font-bold text-sm">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
        </div>
    </div>
</div>

<footer id="pageFooter" class="p-6 text-center text-slate-400 font-bold">Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù…: <span class="text-blue-900">Ù…ÙˆØ³Ù‰ Ø§Ù„ØµØ¨Ø­ÙŠ</span></footer>

<div id="printArea" class="hidden">
    <div class="cert-box">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <img src="https://iconape.com/wp-content/files/zz/389912/svg/389912.svg" style="width:120px;">
            <h1 style="font-size:30px; color:#1e3a8a; font-weight:900;">Ø´Ù‡Ø§Ø¯Ø© Ø´ÙƒØ± ÙˆØªÙ‚Ø¯ÙŠØ±</h1>
            <img src="Ù…Ø¯Ø±Ø³Ø©.png" style="width:140px;">
        </div>
        <p style="font-size:30px; margin-top:40px;">ÙŠØªÙ‚Ø¯Ù… Ù…Ø¹Ù„Ù… Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ø¨Ù…Ø¯Ø±Ø³Ø© Ø¹Ù„ÙŠ Ø¨Ù† Ø£Ø¨ÙŠ Ø·Ø§Ù„Ø¨ Ø¨Ø®Ø§Ù„Øµ Ø§Ù„Ø´ÙƒØ± Ù„Ù„Ø·Ø§Ù„Ø¨:</p>
        <h2 id="certName" style="font-size:60px; color:#000; border-bottom:5px solid #d4af37; display:inline-block; padding:0 80px; margin:20px 0;"></h2>
        <p style="font-size:28px;">Ø¨Ø§Ù„ØµÙ: <span id="certClass" style="font-weight:bold;"></span></p>
        <p style="font-size:26px; color:#059669; font-weight:900;">Ù„Ø§Ø¬ØªÙŠØ§Ø²Ù‡ ØªØ¯Ø±ÙŠØ¨Ø§Øª Ù†Ø§ÙØ³ Ø¨Ù†Ø³Ø¨Ø© Ø¥Ù†Ø¬Ø§Ø²: <span id="certPercent"></span></p>
        <div style="margin-top:30px; font-weight:bold; font-size:22px;">Ø¨ØªØ§Ø±ÙŠØ®: <span id="certDateVal"></span> Ù‡Ù€</div>
        <div style="margin-top:60px; display:flex; justify-content:space-between; padding:0 100px;">
            <div><p>Ù…Ø¹Ù„Ù… Ø§Ù„Ù…Ø§Ø¯Ø©</p><b>Ø£/ Ù…ÙˆØ³Ù‰ Ø§Ù„ØµØ¨Ø­ÙŠ</b></div>
            <div><p>Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</p><b>Ø£/ Ù†ÙˆØ§Ù Ø¢Ù„ Ø¬Ø¹Ø±Ù‡</b></div>
        </div>
    </div>
</div>

<div id="feedback-toast"></div>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
    const WEEKS_DATA = {
        10: [
            { q: "Ø£ÙˆØ¬Ø¯ Ù†Ø§ØªØ¬: Ù£Ù¦Ù¢ Ã— Ù¢Ù¥", c: ["Ù©Ù Ù¥Ù ", "Ù¨Ù Ù¥Ù ", "Ù§Ù¢Ù¥Ù ", "Ù¦Ù¢Ù¥Ù "], correct: 0 },
            { q: "Ù…Ø§ Ù†Ø§ØªØ¬: Ù¦Ù¨Ù§Ù£Ù¥Ù©Ù¤ âˆ’ Ù£Ù§Ù¦Ù¡Ù¤Ù¥Ù¢", c: ["Ù£Ù¡Ù¡Ù¢Ù¡Ù¤Ù¢", "Ù£Ù Ù¡Ù¢Ù¡Ù¤Ù¢", "Ù£Ù¢Ù¡Ù¡Ù¡Ù¤Ù¢", "Ù£Ù¡Ù¡Ù¡Ù¢Ù¤Ù¢"], correct: 0 },
        ],
        1: [{ q: "Ø³Ø¤Ø§Ù„ ØªØ¬Ø±ÙŠØ¨ÙŠ Ù„Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø£ÙˆÙ„", c: ["Ø£", "Ø¨", "Ø¬", "Ø¯"], correct: 0 }]
    };

    let currentQuestions = [], currentIdx = 0, score = 0, timeLeft = 600, timerId, studentData = {};

    function startTraining() {
        const name = document.getElementById('studentName').value.trim();
        const grade = document.getElementById('gradeSelect').value;
        const week = document.getElementById('weekSelect').value;
        if(!name || !grade || !week) return alert("Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹!");

        studentData = { name, grade, week };
        currentQuestions = WEEKS_DATA[week] || WEEKS_DATA[10];
        document.getElementById('mainContainer').classList.add('hidden');
        document.getElementById('pageFooter').classList.add('hidden');
        document.getElementById('quizScreen').classList.remove('hidden');
        document.getElementById('displayStudentName').innerText = name;
        startTimer(); loadQuestion();
    }

    function startTimer() {
        timerId = setInterval(() => {
            timeLeft--;
            let mins = Math.floor(timeLeft / 60), secs = timeLeft % 60;
            document.getElementById('timer').innerText = `${mins.toString().padStart(2,'0')}:${secs.toString().padStart(2,'0')}`;
            if(timeLeft <= 0) endQuiz();
        }, 1000);
    }

    function loadQuestion() {
        const q = currentQuestions[currentIdx];
        document.getElementById('currQNum').innerText = currentIdx + 1;
        document.getElementById('totalQNum').innerText = currentQuestions.length;
        document.getElementById('topQIndicator').innerText = `Ø§Ù„Ø³Ø¤Ø§Ù„ ${currentIdx + 1} Ù…Ù† ${currentQuestions.length}`;
        document.getElementById('questionText').innerText = q.q;
        document.getElementById('progressFill').style.width = `${((currentIdx + 1) / currentQuestions.length) * 100}%`;
        const grid = document.getElementById('optionsGrid'); grid.innerHTML = "";
        const letters = ['Ø£', 'Ø¨', 'Ø¬', 'Ø¯'];
        q.c.forEach((choice, i) => {
            const card = document.createElement('div'); card.className = "option-card";
            card.innerHTML = `<span>${choice}</span><span class="text-slate-300 font-black">${letters[i]}</span>`;
            card.onclick = () => checkAnswer(i, card); grid.appendChild(card);
        });
        document.getElementById('nextBtn').classList.add('hidden');
    }

    function checkAnswer(idx, card) {
        const q = currentQuestions[currentIdx]; const toast = document.getElementById('feedback-toast');
        if(idx === q.correct) { score++; card.classList.add('correct'); toast.innerText = "Ù…Ù…ØªØ§Ø²! ğŸ¥³"; toast.style.background = "#22c55e"; }
        else { card.classList.add('wrong'); toast.innerText = "Ø®Ø§Ø·Ø¦Ø©! ğŸ’”"; toast.style.background = "#ef4444"; }
        toast.style.display = "block"; setTimeout(() => toast.style.display = "none", 1000);
        document.querySelectorAll('.option-card').forEach(c => c.style.pointerEvents = "none");
        document.getElementById('nextBtn').classList.remove('hidden');
    }

    function nextQuestion() {
        currentIdx++; if(currentIdx < currentQuestions.length) loadQuestion(); else endQuiz();
    }

    function endQuiz() {
        clearInterval(timerId);
        document.getElementById('quizScreen').classList.add('hidden');
        document.getElementById('resultScreen').classList.remove('hidden');
        const p = Math.round((score / currentQuestions.length) * 100);
        document.getElementById('resStudentName').innerText = studentData.name;
        document.getElementById('resScoreText').innerText = `${score} Ù…Ù† ${currentQuestions.length}`;
        document.getElementById('resPercent').innerText = `${p}%`;
        const options = { year: 'numeric', month: 'long', day: 'numeric', calendar: 'islamic-uma' };
        const dateStr = new Date().toLocaleDateString('ar-SA', options);
        document.getElementById('resGrade').innerText = p >= 90 ? "Ù…Ù…ØªØ§Ø²" : p >= 75 ? "Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹" : "ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†";
        document.getElementById('resMsg').innerText = p >= 75 ? "Ø£Ù†Øª Ø¨Ø·Ù„ Ø­Ù‚ÙŠÙ‚ÙŠ! Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ ğŸŒŸ" : "Ù†Ø´Ø¬Ø¹Ùƒ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ù„ØªØ­Ø³ÙŠÙ† Ù†ØªÙŠØ¬ØªÙƒ! ğŸ’ª";
        
        document.getElementById('certName').innerText = studentData.name;
        document.getElementById('certClass').innerText = studentData.grade;
        document.getElementById('certPercent').innerText = p + "%";
        document.getElementById('certDateVal').innerText = dateStr;
    }
</script>
</body>
</html>
